<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ModifyRequestNetworkService Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/ModifyRequestNetworkService" class="dashAnchor"></a>
    <a title="ModifyRequestNetworkService Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">DBNetworkStack Docs</a> (86% documented)</p>
        <p class="header-right"><a href="https://github.com/dbsystel/DBNetworkStack"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">DBNetworkStack Reference</a>
        <img id="carat" src="../img/carat.png" />
        ModifyRequestNetworkService Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/BasicNetworkService.html">BasicNetworkService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ContainerNetworkTask.html">ContainerNetworkTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ModifyRequestNetworkService.html">ModifyRequestNetworkService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NetworkServiceMock.html">NetworkServiceMock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NetworkTaskMock.html">NetworkTaskMock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NetworkTaskMock/State.html">– State</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/RetryNetworkService.html">RetryNetworkService</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/NetworkError.html">NetworkError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/URLRequest.html">URLRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/URLSession.html">URLSession</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/NetworkAccess.html">NetworkAccess</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/NetworkService.html">NetworkService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/NetworkTask.html">NetworkTask</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/Resource.html">Resource</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ModifyRequestNetworkService</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">ModifyRequestNetworkService</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/NetworkService.html">NetworkService</a></span></code></pre>

                </div>
              </div>
            <p><code>ModifyRequestNetworkService</code> can be composed with a network service to modify all outgoing requests.
One could add auth tokens or API keys for specifics URLs.</p>

<p><strong>Example</strong>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">networkService</span><span class="p">:</span> <span class="kt">NetworkService</span> <span class="o">=</span> <span class="c1">//</span>
<span class="k">let</span> <span class="nv">modifyRequestNetworkService</span> <span class="o">=</span> <span class="kt">ModifyRequestNetworkService</span><span class="p">(</span><span class="nv">networkService</span><span class="p">:</span> <span class="n">networkService</span><span class="p">,</span> <span class="nv">requestModifications</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="n">request</span> <span class="k">in</span>
   <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="nf">added</span><span class="p">(</span><span class="kt">HTTPHeaderFields</span><span class="p">:</span> <span class="p">[</span><span class="s">"API-Key"</span><span class="p">:</span> <span class="s">"SecretKey"</span><span class="p">])</span>
<span class="p">}])</span>
</code></pre>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Requests can only be modified syncronously.

</div>
<div class="aside aside-seealso">
    <p class="aside-title">Seealso</p>
    <code><a href="../Protocols/NetworkService.html">NetworkService</a></code>

</div>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14DBNetworkStack27ModifyRequestNetworkServiceC07networkF020requestModificationsAcA0eF0_p_Say10Foundation10URLRequestVAIcGtcfc"></a>
                    <a name="//apple_ref/swift/Method/init(networkService:requestModifications:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14DBNetworkStack27ModifyRequestNetworkServiceC07networkF020requestModificationsAcA0eF0_p_Say10Foundation10URLRequestVAIcGtcfc">init(networkService:requestModifications:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates an insatcne of <code>ModifyRequestNetworkService</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">networkService</span><span class="p">:</span> <span class="kt"><a href="../Protocols/NetworkService.html">NetworkService</a></span><span class="p">,</span> <span class="nv">requestModifications</span><span class="p">:</span> <span class="p">[(</span><span class="kt">URLRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">URLRequest</span><span class="p">])</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>networkService</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>a networkservice.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>requestModifications</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>array of modifications to modify requests.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14DBNetworkStack27ModifyRequestNetworkServiceC7request5queue8resource24onCompletionWithResponse0J5ErrorAA0E4Task_pSo012OS_dispatch_H0C_AA8ResourceVyxGyx_So17NSHTTPURLResponseCtcyAA0eN0OctlF"></a>
                    <a name="//apple_ref/swift/Method/request(queue:resource:onCompletionWithResponse:onError:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14DBNetworkStack27ModifyRequestNetworkServiceC7request5queue8resource24onCompletionWithResponse0J5ErrorAA0E4Task_pSo012OS_dispatch_H0C_AA8ResourceVyxGyx_So17NSHTTPURLResponseCtcyAA0eN0OctlF">request(queue:resource:onCompletionWithResponse:onError:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Fetches a resource asynchronously from remote location. Execution of the requests starts immediately.
Execution happens on no specific queue. It dependes on the network access which queue is used.
Once execution is finished either the completion block or the error block gets called.
You decide on which queue these blocks get executed.</p>

<p><strong>Example</strong>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">networkService</span><span class="p">:</span> <span class="kt">NetworkService</span> <span class="o">=</span> <span class="c1">//</span>
<span class="k">let</span> <span class="nv">resource</span><span class="p">:</span> <span class="kt">Resource</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="c1">//</span>

<span class="n">networkService</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="nv">queue</span><span class="p">:</span> <span class="o">.</span><span class="n">main</span><span class="p">,</span> <span class="nv">resource</span><span class="p">:</span> <span class="n">resource</span><span class="p">,</span> <span class="nv">onCompletionWithResponse</span><span class="p">:</span> <span class="p">{</span> <span class="n">htmlText</span><span class="p">,</span> <span class="n">response</span> <span class="k">in</span>
   <span class="nf">print</span><span class="p">(</span><span class="n">htmlText</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
<span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
   <span class="c1">// Handle errors</span>
<span class="p">})</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="n">request</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">queue</span><span class="p">:</span> <span class="kt">DispatchQueue</span><span class="p">,</span> <span class="nv">resource</span><span class="p">:</span> <span class="kt"><a href="../Structs/Resource.html">Resource</a></span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">onCompletionWithResponse</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">HTTPURLResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">,</span>
                    <span class="nv">onError</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/NetworkError.html">NetworkError</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/NetworkTask.html">NetworkTask</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>queue</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code>DispatchQueue</code> to execute the completion and error block on.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>resource</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The resource you want to fetch.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onCompletionWithResponse</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Callback which gets called when fetching and transforming into model succeeds.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onError</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Callback which gets called when fetching or transforming fails.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>a running network task</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="" target="_blank" rel="external">DBSystel</a>. All rights reserved. (Last updated: 2019-09-26)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.11.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
